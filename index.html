<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bettiah Interactive Map - Leaflet & OpenStreetMap</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f0f0; }
    #map { height: 100vh; width: 100%; position: relative; }
    .panel { position: fixed; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.15); z-index: 1000; }
    .control-panel { top: 10px; left: 10px; max-width: 350px; max-height: 90vh; overflow-y: auto; }
    .control-panel h1 { color: #2c3e50; font-size: 20px; margin-bottom: 10px; }
    .control-panel p { color: #666; font-size: 12px; margin: 3px 0; }
    .search-box { margin-top: 10px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; width: 100%; font-size: 13px; }
    .search-box:focus { outline: none; border-color: #3498db; box-shadow: 0 0 5px rgba(52,152,219,0.3); }
    .filter-section { margin-top: 12px; }
    .filter-title { font-weight: bold; font-size: 12px; color: #2c3e50; margin-bottom: 8px; }
    .filter-section label { display: block; margin: 5px 0; cursor: pointer; font-size: 12px; }
    .filter-section input { margin-right: 6px; cursor: pointer; }
    .info-box { bottom: 20px; right: 20px; max-width: 300px; }
    .info-box .title { font-size: 18px; font-weight: bold; color: #333; margin-bottom: 10px; }
    .info-box .subtitle { font-size: 13px; color: #666; line-height: 1.4; }
    .location-count { top: 410px; left: 10px; font-size: 12px; color: #555; font-weight: bold; padding: 10px 15px; }
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="panel control-panel">
    <h1>Bettiah Map</h1>
    <p>ğŸ“ West Champaran, Bihar, India</p>
    <input type="text" id="searchBox" class="search-box" placeholder="ğŸ” Search locations...">
    <div class="filter-section">
      <div class="filter-title">ğŸ“ Filter by Category</div>
      <label><input type="checkbox" class="category-checkbox" value="admin"> Government</label>
      <label><input type="checkbox" class="category-checkbox" value="heritage"> Heritage</label>
      <label><input type="checkbox" class="category-checkbox" value="religious"> Religious</label>
      <label><input type="checkbox" class="category-checkbox" value="nature"> Nature</label>
      <label><input type="checkbox" class="category-checkbox" value="commerce"> Commerce</label>
      <label><input type="checkbox" class="category-checkbox" value="agriculture"> Agriculture</label>
      <label><input type="checkbox" class="category-checkbox" value="education"> Education</label>
      <label><input type="checkbox" class="category-checkbox" value="healthcare"> Healthcare</label>
      <label><input type="checkbox" class="category-checkbox" value="wildlife"> Wildlife</label>
      <label><input type="checkbox" class="category-checkbox" value="infrastructure"> Infrastructure</label>
    </div>
    <div class="filter-section">
      <div class="filter-title">ğŸ“¡ Map Layers</div>
      <label><input type="radio" name="layer" value="osm" checked> Street Map</label>
      <label><input type="radio" name="layer" value="satellite"> Satellite View</label>
    </div>
  </div>
  <div class="panel location-count" id="locationCount">ğŸ“ Showing 20 locations</div>
  <div class="panel info-box">
    <div class="title">About Bettiah</div>
    <div class="subtitle">Bettiah is the administrative headquarters of West Champaran district in Bihar. Known for agricultural production, historical heritage, and its role in India's independence movement.</div>
  </div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
  <script>const map = L.map('map').setView([26.8039, 84.5022], 13);
const osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: 'Â© OpenStreetMap', maxZoom: 19, minZoom: 2 });
const satelliteLayer = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', { attribution: 'Esri', maxZoom: 19, minZoom: 2 });
osmLayer.addTo(map);
document.querySelectorAll('input[name="layer"]').forEach(radio => {
  radio.addEventListener('change', (e) => {
    if (e.target.value === 'satellite') { map.removeLayer(osmLayer); satelliteLayer.addTo(map); }
    else { map.removeLayer(satelliteLayer); osmLayer.addTo(map); }
  });
});
const locations = [
  { name: 'Bettiah Town Center', lat: 26.8039, lng: 84.5022, description: 'Admin headquarters', icon: 'ğŸ›ï¸', type: 'admin' },
  { name: 'Bettiah Raj Palace', lat: 26.8050, lng: 84.5010, description: 'Historic palace 1627', icon: 'ğŸ°', type: 'heritage' },
  { name: 'Triveni Ghat', lat: 26.8080, lng: 84.4990, description: 'River confluence', icon: 'ğŸ•‰ï¸', type: 'religious' },
  { name: 'Agricultural Hub', lat: 26.7980, lng: 84.5100, description: 'Farm area', icon: 'ğŸŒ¾', type: 'agriculture' },
  { name: 'Bettiah Market', lat: 26.8020, lng: 84.5040, description: 'Traditional market', icon: 'ğŸª', type: 'commerce' },
  { name: 'Bhitiharwa Ashram', lat: 26.75, lng: 84.48, description: 'Gandhi site', icon: 'ğŸ™', type: 'heritage' },
  { name: 'Kalibagh Temple', lat: 26.81, lng: 84.49, description: 'Old temple', icon: 'â›ª', type: 'religious' },
  { name: 'Raj Deorhi', lat: 26.805, lng: 84.500, description: 'Palace complex', icon: 'ğŸ›ï¸', type: 'heritage' },
  { name: 'District Collectorate', lat: 26.803, lng: 84.502, description: 'Gov office', icon: 'ğŸ¢', type: 'admin' },
  { name: 'Sagar Pokhra', lat: 26.82, lng: 84.50, description: 'Lake & park', icon: 'ğŸ¦†', type: 'nature' },
  { name: 'Uttarwari Pokhara', lat: 26.815, lng: 84.505, description: 'Historic pond', icon: 'ğŸ’§', type: 'nature' },
  { name: 'Saraiya Man Lake', lat: 26.795, lng: 84.515, description: 'Bird watching lake', icon: 'ğŸŒŠ', type: 'nature' },
  { name: 'Christian Quarters', lat: 26.808, lng: 84.498, description: 'Historic colony', icon: 'âœï¸', type: 'heritage' },
  { name: 'Badi Masjid', lat: 26.810, lng: 84.505, description: 'Historic mosque', icon: 'ğŸ•Œ', type: 'religious' },
  { name: 'MJK College Pokhara', lat: 26.800, lng: 84.510, description: 'College & pond', icon: 'ğŸ“', type: 'education' },
  { name: 'Saheed Smarak', lat: 26.825, lng: 84.500, description: 'Freedom memorial', icon: 'ğŸ‡®ğŸ‡³', type: 'heritage' },
  { name: 'Valmiki Nagar Dam', lat: 26.68, lng: 84.45, description: 'Dam & power', icon: 'ğŸ—ï¸', type: 'infrastructure' },
  { name: 'Udaypur Wildlife', lat: 26.72, lng: 84.40, description: 'Sanctuary', icon: 'ğŸ¦', type: 'wildlife' },
  { name: 'Hajarimal Dharmshala', lat: 26.805, lng: 84.515, description: 'Guest house', icon: 'ğŸ˜ï¸', type: 'religious' },
  { name: 'District Hospital', lat: 26.804, lng: 84.508, description: 'Hospital', icon: 'ğŸ¥', type: 'healthcare' }
];
let allMarkers = {};
let markerClusterGroup = L.markerClusterGroup();
function createMarker(loc) {
  const m = L.marker([loc.lat, loc.lng]);
  const pop = `<div style="width:250px;font-size:12px"><h3 style="color:#2c3e50">${loc.icon} ${loc.name}</h3><p>${loc.description}</p><p><b>Type:</b> ${loc.type}<br><b>Coords:</b> ${loc.lat.toFixed(3)}Â°N, ${loc.lng.toFixed(3)}Â°E</p></div>`;
  m.bindPopup(pop);
  m.on('mouseover', function() { this.openPopup(); });
  m.on('mouseout', function() { this.closePopup(); });
  allMarkers[loc.name] = { marker: m, location: loc };
  return m;
}
locations.forEach(loc => { createMarker(loc); markerClusterGroup.addLayer(allMarkers[loc.name].marker); });
map.addLayer(markerClusterGroup);
L.circle([26.8039, 84.5022], { color: '#3498db', fillColor: '#3498db', fillOpacity: 0.1, radius: 5000, weight: 2 }).addTo(map);
const searchBox = document.getElementById('searchBox');
const categoryCheckboxes = document.querySelectorAll('.category-checkbox');
const locationCountDiv = document.getElementById('locationCount');
function filterMarkers() {
  const searchTerm = searchBox.value.toLowerCase();
  const selectedCategories = Array.from(categoryCheckboxes).filter(cb => cb.checked).map(cb => cb.value);
  markerClusterGroup.clearLayers();
  let visibleCount = 0;
  locations.forEach(loc => {
    const matchesSearch = loc.name.toLowerCase().includes(searchTerm) || loc.description.toLowerCase().includes(searchTerm);
    const matchesCategory = selectedCategories.length === 0 || selectedCategories.includes(loc.type);
    if (matchesSearch && matchesCategory) { markerClusterGroup.addLayer(allMarkers[loc.name].marker); visibleCount++; }
  });
  locationCountDiv.textContent = `ğŸ“ Showing ${visibleCount} location${visibleCount !== 1 ? 's' : ''}`;
}
searchBox.addEventListener('input', filterMarkers);
categoryCheckboxes.forEach(checkbox => { checkbox.addEventListener('change', filterMarkers); });
window.addEventListener('resize', () => { map.invalidateSize(); });
  </script>
</body>
</html>
